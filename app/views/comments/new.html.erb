<% provide(:title, "Add a comment") %>

<div class="container hax-body-styling">
  <div class="row">
    <div class="col-md-4">

      <h1><%= "Adding comment for '#{@provider.name}'" %></h1>

      <%= form_tag comments_path do %>

        <%= hidden_field_tag :provider_id, @provider.id %>
        <%= hidden_field_tag :overall_score, 0, {:class => "overall_score"} %>

        <%= label_tag :title, "Your comment title (optional)" %>
        <%= text_field_tag :title %>

        <%= label_tag :payload, "Your comment" %>
        <%= text_area_tag :payload %>

        <%= label_tag :overall_score, "How do you like this supplier overall? (optional)" %>
        <span class="star-rating">
          <input type="radio" name="rating" value="1"><i></i>
          <input type="radio" name="rating" value="2"><i></i>
          <input type="radio" name="rating" value="3"><i></i>
          <input type="radio" name="rating" value="4"><i></i>
          <input type="radio" name="rating" value="5"><i></i>
        </span>
        <strong class="choice">Choose a rating</strong>

        <%= submit_tag "Submit", class: "save-button" %>

      <% end %>

    </div>
  </div>
</div>

<!-- JS TO ALLOW RATINGS TO WORK -->
<script type="text/javascript"> 
  $(':radio').change(
  function(){
    $('.choice').text( this.value + ' stars' );
    $('.overall_score').text( this.value );
  } 
)
</script>